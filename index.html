<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Snake Game - Proyecto Final</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="favicon_2.png">
</head>
<body>
    <!-- Main Menu -->
    <div id="main-menu" class="fullscreen">
        <h1>Arcade Snake</h1>
        <button id="start-btn">Start</button>
        <button id="ranking-btn">Ranking</button>
        <button id="settings-btn">Settings</button>
        <p class="subtitle">Álvaro Camas - Diseño Web Avanzado</p>
    </div>

    <!-- Game UI -->
    <div id="game-ui" class="fullscreen" style="display:none;">
        <div id="hud">
            <span id="score-label">Puntuación: <span id="score">0</span></span>
            <span id="timer-label">Tiempo: <span id="timer">00:00</span></span>
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
        </div>
        <canvas id="game-canvas" width="640" height="480"></canvas>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over" class="fullscreen" style="display:none;">
        <h2>Game Over</h2>
        <p>Tu puntuación: <span id="final-score">0</span></p>
        <form id="score-form">
            <input id="player-name" type="text" maxlength="16" placeholder="Tu nombre" required autocomplete="off" />
            <button type="submit">Guardar puntuación</button>
        </form>
        <div id="score-saved-msg" style="display:none; color:#4caf50; margin-top:8px;">¡Puntuación guardada!</div>
        <button id="restart-btn">Reintentar</button>
        <button id="menu-btn">Menú Principal</button>
    </div>

    <!-- Ranking Modal -->
    <div id="ranking-modal" class="fullscreen" style="display:none; background:rgba(24,24,24,0.98); z-index:20;">
        <div style="background:#232526; border-radius:12px; padding:2em; min-width:320px;">
            <h2>Ranking Top 20</h2>
            <ol id="ranking-list" style="text-align:left; max-height:350px; overflow-y:auto;"></ol>
            <button id="close-ranking-btn">Cerrar</button>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="settings-screen" class="fullscreen" style="display:none;">
        <div class="settings-panel">
            <h2>Ajustes</h2>
            <div class="settings-group">
                <label for="music-volume">Volumen Música</label>
                <input type="range" id="music-volume" min="0" max="1" step="0.01" value="1">
                <span id="music-volume-value">100%</span>
            </div>
            <div class="settings-group">
                <label for="effects-volume">Volumen Efectos</label>
                <input type="range" id="effects-volume" min="0" max="1" step="0.01" value="1">
                <span id="effects-volume-value">100%</span>
            </div>
            <div class="settings-group">
                <label>Controles</label>
                <div class="controls-binds">
                    <div>
                        <span>Arriba</span>
                        <button class="bind-btn" id="bind-up">↑</button>
                    </div>
                    <div>
                        <span>Abajo</span>
                        <button class="bind-btn" id="bind-down">↓</button>
                    </div>
                    <div>
                        <span>Izquierda</span>
                        <button class="bind-btn" id="bind-left">←</button>
                    </div>
                    <div>
                        <span>Derecha</span>
                        <button class="bind-btn" id="bind-right">→</button>
                    </div>
                </div>
                <button id="reset-binds-btn" style="margin-top:1em;">Restablecer controles</button>
            </div>
            <button id="close-settings-btn" style="margin-top:2em;">Volver</button>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
